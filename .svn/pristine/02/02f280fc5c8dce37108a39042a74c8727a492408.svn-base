<!--Accordion wrapper-->
<div class="row fixed-top my-1 pl-3 pr-3 stickyMenuTop">
  <div class="btn-group" role="group" aria-label="Basic example">
    <a class="stickyButtons elem" (click)="onBack()">
      <button mdbBtn type="button" class="btn-sm">
        <mdb-icon fas icon="angle-left" class="mr-1"></mdb-icon>Back
      </button>
    </a>
    <a (click)="onDelete(primaryKey)" class="stickyButtons">
      <button mdbBtn type="button" class="btn-sm">
        <mdb-icon fas icon="trash-alt" class="mr-1"></mdb-icon>Delete
      </button>
    </a>
    <a (click)="frameCopyDeal.show()" class="stickyButtons">
      <button mdbBtn type="button" class="btn-sm">
        <mdb-icon fas icon="trash-alt" class="mr-1"></mdb-icon>Copy Deal
      </button>
    </a>
  </div>
</div>
<!-- --------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------ Modals
-------------------------------------------------------------------------------------------------------- -->
<!-- Copy Deal Modal -->
<div mdbModal #frameCopyDeal="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Copy Deal</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frameCopyDeal.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <div class="text-center">
          <div class="row" style="padding: 0px 1%">
            <div class="col-sm-12">
              <mat-form-field class="example-full-width">
                <mat-label>Deal Name:</mat-label>
                <input matInput class="MatInputBoxShadow" type="text" required [(ngModel)]="copyTitle">
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" [disabled]="copyTitle == null" mdbBtn color="primary" outline="true" class="waves-effect"
          mdbWavesEffect (click)="onCopySubmit(frameCopyDeal)">Copy Deal</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- Deal Info Edit Modal -->
<div mdbModal #frameDealInfo="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info modal-fluid" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Edit</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frameDealInfo.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <div class="text-center">
          <div class="row" style="padding: 0px 1%">
            <div class="col-sm-12">
              <mat-form-field class="example-full-width">
                <mat-label>Deal:</mat-label>
                <input matInput class="MatInputBoxShadow" type="text" id="PropertyName" required name="PropertyName"
                  [(ngModel)]="dealItem_Edit.Title" #dealItem_Edit_Title="ngModel">
                <mat-error>This field is required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4">
              <!-- Date Entered -->
              <mat-form-field style="width: 100%;">
                <input matInput required [matDatepicker]="StartDatePicker" placeholder="Date Entered" name="StartDate"
                  [(ngModel)]="dealItem_Edit.DateEntered" #dealItem_Edit_DateEntered="ngModel">
                <mat-datepicker-toggle matSuffix [for]="StartDatePicker"></mat-datepicker-toggle>
                <mat-datepicker #StartDatePicker></mat-datepicker>
              </mat-form-field>
              <!-- Market -->
              <mat-form-field class="example-full-width">
                <mat-label>Market</mat-label>
                <mat-select label="Market" type="text" name="Market" [(ngModel)]="selectedMarket"
                  (selectionChange)="selMarket($event)">
                  <mat-option disabled>-- Please Select --</mat-option>
                  <mat-option *ngFor="let item of markets_all" [value]="item">{{item.Title}}</mat-option>
                </mat-select>
              </mat-form-field>
              <!-- Sub-Market -->
              <mat-form-field class="example-full-width">
                <mat-label>Sub-Market</mat-label>
                <mat-select label="Sub-Market" type="text" name="SubMarket" [(ngModel)]="selectedSubMarket" [disabled] = "selectedMarket.ID == null"
                  (selectionChange)="selSubMarket($event)">
                  <mat-option disabled>-- Please Select --</mat-option>
                  <mat-option *ngFor="let item of subMarkets_all" [value]="item">{{item.Title}}</mat-option>
                </mat-select>
              </mat-form-field>
              <!-- Report Output -->
              <mdb-checkbox [(ngModel)]="dealItem_Edit.ReportOutput" [checked]="dealItem_Edit.ReportOutput"
                style="margin-top: 22px;" name="ReportOutput">
                Report Output
              </mdb-checkbox>
            </div>
            <!-- Address col -->
            <div class="col-sm-4">
              <!-- Address -->
              <mat-form-field class="example-full-width">
                <mat-label>Address:</mat-label>
                <input matInput class="MatInputBoxShadow" type="text" name="Address"
                  [(ngModel)]="dealItem_Edit.Address">
              </mat-form-field>
              <!-- City -->
              <mat-form-field class="example-full-width">
                <mat-label>City:</mat-label>
                <input matInput class="MatInputBoxShadow" type="text" name="City" [(ngModel)]="dealItem_Edit.City">
              </mat-form-field>
              <!-- State -->
              <mat-form-field class="example-full-width">
                <mat-label>State</mat-label>
                <mat-select label="State" type="text" name="State" [(ngModel)]="selectedState"
                  (selectionChange)="selState($event)">
                  <mat-option disabled>-- Please Select --</mat-option>
                  <mat-option *ngFor="let item of states_all" [value]="item">{{item.Title}} - {{item.Name}}</mat-option>
                </mat-select>
              </mat-form-field>
              <!-- Zip Code -->
              <mat-form-field class="example-full-width">
                <mat-label>Zip Code:</mat-label>
                <input matInput class="MatInputBoxShadow" type="text" name="ZipCode"
                  [(ngModel)]="dealItem_Edit.ZipCOde">
              </mat-form-field>
            </div>
            <!-- Description col -->
            <div class="col-sm-4">
              <!-- Description -->
              <mat-form-field class="example-full-width">
                <mat-label>Description:</mat-label>
                <input required matInput class="MatInputBoxShadow" type="text" name="Description"
                  [(ngModel)]="dealItem_Edit.Description">
              </mat-form-field>
              <!-- Project Type -->
              <mat-form-field class="example-full-width">
                <mat-label>Project Type</mat-label>
                <mat-select label="ProjectType" type="text" name="ProjectType" [(ngModel)]="selectedProjectType"
                  (selectionChange)="selProjectType($event)">
                  <mat-option disabled>-- Please Select --</mat-option>
                  <mat-option *ngFor="let item of projectType_all" [value]="item">{{item.Title}}</mat-option>
                </mat-select>
              </mat-form-field>
              <!-- Deal Type -->
              <mat-form-field class="example-full-width">
                <mat-label>Deal Type</mat-label>
                <mat-select label="DealType" type="text" name="DealType" [(ngModel)]="selectedDealType"
                  (selectionChange)="selDealType($event)">
                  <mat-option disabled>-- Please Select --</mat-option>
                  <mat-option *ngFor="let item of dealType_all" [value]="item">{{item.Title}}</mat-option>
                </mat-select>
              </mat-form-field>
              <!-- BMR Deal Team -->
              <mat-form-field class="example-full-width">
                <mat-label>BMR Deal Team</mat-label>
                <mat-select [multiple]="true" label="Accrual" type="text" name="Type">
                  <mat-option>-- Clear --</mat-option>
                  <mat-option [value]="true">Adam Goldblatt</mat-option>
                  <mat-option [value]="false">David Hsrio</mat-option>
                  <mat-option [value]="false">Kevin Vu</mat-option>
                  <mat-option [value]="false">Nareg Gourdikian</mat-option>
                  <mat-option [value]="false">Ryan Anderson</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="primary" outline="true" class="waves-effect" mdbWavesEffect
          (click)="updateDealsInfo(frameDealInfo)">Update</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- Investment Summary Modal -->
<div mdbModal #frameInvestment="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info modal-fluid" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Edit</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frameInvestment.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <form #PropertyMaster="ngForm" autocomplete="off">
          <div class="text-center">
            <div class="row" style="padding: 0px 1%">
              <!-- Funds col 1 -->
              <div class="col-sm-4">
                <!-- Fund -->
                <mat-form-field class="example-full-width">
                  <mat-label>Funds:</mat-label>
                  <mat-select label="Funds" type="text" name="Funds" [(ngModel)]="selectedFunds"
                    (selectionChange)="selFunds($event)">
                    <mat-option disabled>-- Please Select --</mat-option>
                    <mat-option *ngFor="let item of funds_all" [value]="item">{{item.Title}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- In-Place RSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>In-Place RSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.InPlaceRSF" required matInput class="MatInputBoxShadow"
                    type="text" appMatInputCurrency name="InPlaceRSF" (change)="calPurchasePrice('InPlaceRSF')">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Stabilized RSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>Stabilized RSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.StabilizedRSF" required matInput class="MatInputBoxShadow"
                    type="text" appMatInputCurrency name="StabilizedRSF"
                    (change)="calStabilized('StabilizedRSF')">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Untrended YoC -->
                <mat-form-field class="example-full-width">
                  <mat-label>Untrended YoC:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.UntrendedYoC" required matInput class="MatInputBoxShadow"
                    type="text" appMatInputCurrency name="UntrendedYoC">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Hard Costs PSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>Hard Costs PSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.HardCostsPSF" required matInput class="MatInputBoxShadow"
                    type="text" appMatInputCurrency name="HardCostsPSF">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
              </div>
              <!-- Analysis Date col 2  -->
              <div class="col-sm-4">
                <!-- AnalysisStartDate -->
                <mat-form-field style=" width: 100%;">
                  <input required matInput [matDatepicker]="AnalysisStartDate" placeholder="Analysis Start Date"
                    name="AnalysisStartDate" [(ngModel)]="investmentSummary_Edit.AnalysisStartDate">
                  <mat-datepicker-toggle matSuffix [for]="AnalysisStartDate"></mat-datepicker-toggle>
                  <mat-datepicker #AnalysisStartDate></mat-datepicker>
                </mat-form-field>
                <!-- Purchase Price -->
                <mat-form-field class="example-full-width">
                  <mat-label>Purchase Price:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.PurchasePrice" required matInput class="MatInputBoxShadow"
                    type="text" appMatInputCurrency name="PurchasePrice"
                    [disabled]="investmentSummary_Edit.InPlaceRSF == null" (change)="calPurchasePrice('PurchasePrice')">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Stabilized Basis -->
                <mat-form-field class="example-full-width">
                  <mat-label>Stabilized Basis:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.StabilizedBasis" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="StabilizedBasis"
                    [disabled]="investmentSummary_Edit.StabilizedRSF == null"
                    (change)="calStabilized('StabilizedBasis')">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Lab Market Rent $PSF (Ann.) -->
                <mat-form-field class="example-full-width">
                  <mat-label>Lab Market Rent $PSF (Ann.):</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.LabMarketRentPSFAnn" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="LabMarketRentPSFAnn"
                    (change)="calLabMarket()">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Tenant Improvements $PSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>Tenant Improvements $PSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.TenantImprovementsPSF" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="TenantImprovementsPSF">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
              </div>
              <!-- completion date col 3 -->
              <div class="col-sm-4">
                <!-- EstCompletionDate -->
                <mat-form-field style="width: 100%;">
                  <input matInput [matDatepicker]="EstCompletionDate" placeholder="Est. Completion Date"
                    name="EstCompletionDate" [(ngModel)]="investmentSummary_Edit.EstCompletionDate">
                  <mat-datepicker-toggle matSuffix [for]="EstCompletionDate"></mat-datepicker-toggle>
                  <mat-datepicker #EstCompletionDate></mat-datepicker>
                </mat-form-field>
                <!-- Purchase Price PSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>Purchase Price PSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.PurchasePricePSF" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="PurchasePricePSF"
                    [disabled]="investmentSummary_Edit.InPlaceRSF == null" (change)="calPurchasePrice('PurchasePricePSF')">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Stabilized Basis PSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>Stabilized Basis PSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.StabilizedBasisPSF" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="StabilizedBasisPSF"
                    [disabled]="investmentSummary_Edit.StabilizedRSF == null"
                    (change)="calStabilized('StabilizedBasisPSF')">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Lab Market Rent $PSF (Mo.) -->
                <mat-form-field [disabled]="true" class="example-full-width">
                  <mat-label>Lab Market Rent $PSF (Mo.):</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.LabMarketRentPSFMon" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="LabMarketRentPSFMon" (change)="calLabMarketMon()">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
                <!-- Conversion Cost PSF -->
                <mat-form-field class="example-full-width">
                  <mat-label>Conversion Cost PSF:</mat-label>
                  <input [(ngModel)]="investmentSummary_Edit.ConversionCostPSF" required matInput
                    class="MatInputBoxShadow" type="text" appMatInputCurrency name="ConversionCostPSF">
                  <span matPrefix style="color:#757575">$&nbsp;</span>
                </mat-form-field>
              </div>
            </div>
          </div>
        </form>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="primary" outline="true" class="waves-effect" mdbWavesEffect
          (click)="updateInvestmentSummary(frameInvestment)">Update</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- Key Upcoming Date Modal -->
<div mdbModal #frameKeyCheck="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info modal-lg" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Edit</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frameKeyCheck.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <div class="text-center">
          <div class="row" style="padding: 8px 1%">
            <div class="col-sm-12">
              <table mdbTable class="z-depth-1">
                <thead>
                  <tr>
                    <th [hidden]="true">ID</th>
                    <th style="width: 30%;">Key Upcoming Date(s)</th>
                    <th>Description </th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of KeyUpcomingDates_Edit; let i = index;">
                    <td [hidden]="true"></td>
                    <td data-label="Key Upcoming Date(s)">
                      <input [ngModelOptions]="{standalone: true}" [(ngModel)]="item.KeyUpcomingDate" type="date" class="form-control" />
                    </td>
                    <td data-label="Description ">
                      <mat-form-field appearance="outline" class="matTableFields">
                        <input matInput type="text" [(ngModel)]="item.Title">
                      </mat-form-field>
                    </td>
                    <td>
                      <a (click)="DeleteKeyUpcomingDateRow(i)" class="matTableButtons" [hidden]="isView"
                         mdbTooltip="Delete" placement="left" mdbBtn floating="true" size="sm"  gradient="aqua"
                         mdbWavesEffect>
                        <mdb-icon fas icon="trash-alt"></mdb-icon>
                      </a>
                    </td>
                  </tr> 
                  <tr>
                    <td style="text-align: left;">
                      <a (click)="AddKeyUpcomingDateRow()"
                        *ngIf="common.CheckIfUserhasAccess_Action('Deposit Schedule','Add')" class="matTableButtons"
                        [hidden]="isView" mdbBtn floating="true" mdbTooltip="Add Row" placement="left"   size="sm"
                         gradient="aqua"  mdbWavesEffect>
                        <mdb-icon fas icon="plus"></mdb-icon>
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="primary" outline="true" class="waves-effect" mdbWavesEffect
          (click)="updateKeyUpcomingDates(frameKeyCheck)">Update</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- Deal Details Modal-->
<div mdbModal #frameDealDetails="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info modal-lg" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Edit</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frameDealDetails.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <div class="text-center">
          <div class="row" style="padding: 0px 1%">
            <div class="col-sm-4">
              <mat-form-field class="example-full-width">
                <mat-label>Status</mat-label>
                <mat-select label="Status" type="text" name="Status" [(ngModel)]="selectedStatus"
                  (selectionChange)="selStatus($event)">
                  <mat-option disabled>-- Please Select --</mat-option>
                  <mat-option *ngFor="let item of status_all" [value]="item">{{item.Title}}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-sm-4">
              <!-- <mat-form-field class="example-full-width">
                <mat-label>Brokerage</mat-label>
                <mat-select [multiple]="true" id="BrokersId" class="MatInputBoxShadow" type="text" name="BrokersId" [(ngModel)]="selectedBrokerage">
                  <mat-option (click)="toggleAllSelection('Brokerage')">-- Select All --</mat-option>
                  <mat-option *ngFor="let item of Brokerage_all" [value]="item">
                    {{ item.Title }}
                  </mat-option>
                </mat-select>
              </mat-form-field> -->
            </div>
            <div class="col-sm-4">
              <!-- <mat-form-field class="example-full-width">
                <mat-label>Broker(s)</mat-label>
                <mat-select [multiple]="true" class="MatInputBoxShadow" type="text" [(ngModel)]="selectedBroker">
                  <mat-option (click)="toggleAllSelection('Brokers')">-- Select All --</mat-option>
                  <mat-option *ngFor="let item of broker_all" [value]="item">
                    {{ item.Title }}
                  </mat-option>
                </mat-select>
              </mat-form-field> -->
            </div>
          </div>
          <div class="row" style="padding: 0px 1%">
            <table mdbTable class="z-depth-1">
              <thead>
                <tr>
                  <th [hidden]="true">ID</th>
                  <!-- <th>Code</th> -->
                  <th style="text-align: left;">Seller Name</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of sellerItem_Edit; let i = index;">
                  <td [hidden]="true"></td>
                  <td style="text-align: left;" data-label="Seller Name">
                    <mat-form-field appearance="outline" class="matTableFields">
                      <input matInput type="text" [(ngModel)]="item.Title">
                    </mat-form-field>
                  </td>
                  <td style="text-align: left;">
                    <a (click)="DeleteRowSeller(i)" class="matTableButtons" [hidden]="isView"  mdbTooltip="Delete"
                      placement="left" mdbBtn floating="true" size="sm"  gradient="aqua"  mdbWavesEffect>
                      <mdb-icon fas icon="trash-alt"></mdb-icon>
                    </a>
                  </td>
                </tr> 
                <tr>
                  <td style="text-align: left;" colspan="4">
                    <div class="col-md-12">
                      <a *ngIf="common.CheckIfUserhasAccess_Action('Deposit Schedule','Add')" (click)="AddSellerRow()"
                        class="matTableButtons" [hidden]="isView" mdbBtn floating="true" mdbTooltip="Add Row"
                        placement="right"   size="sm"  gradient="aqua"  mdbWavesEffect>
                        <mdb-icon fas icon="plus"></mdb-icon>
                      </a>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="primary" outline="true" class="waves-effect" mdbWavesEffect
          (click)="updateBrokerage(frameDealDetails)">Update</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- Quick Links Modal -->
<div mdbModal #frameQuickLink="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info modal-lg" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Edit</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frameQuickLink.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <div class="text-center">
          <div class="row" style="padding: 0px 1%">
            <div style="text-align: left;" class="col-sm-12">
              <h5 class="h4-responsive">Quick Links</h5>
            </div>
            <div class="col-sm-12">
              <table mdbTable class="z-depth-1">
                <thead>
                  <tr>
                    <th [hidden]="true">ID</th>
                    <!-- <th>Code</th> -->
                    <th style="text-align: left;">Title</th>
                    <th style="text-align: left;">URL</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let field of QuickLinks; let i = index;">
                    <td [hidden]="true"></td>
                    <td data-label="Title">
                      <input type="text" class="form-control" />
                    </td>
                    <td data-label="URL">
                      <mat-form-field appearance="outline" class="matTableFields">
                        <input matInput type="text">
                      </mat-form-field>
                    </td>
                    <td>
                      <a (click)="DeleteRowQuickLinks(i)" class="matTableButtons" [hidden]="isView"  mdbTooltip="Delete"
                        placement="left" mdbBtn floating="true" size="sm"  gradient="aqua"  mdbWavesEffect>
                        <mdb-icon fas icon="trash-alt"></mdb-icon>
                      </a>
                    </td>
                  </tr> 
                  <tr>
                    <td style="text-align: left;" colspan="4">
                      <div class="col-md-12">
                        <a (click)="QuickLinksAddRow()"
                          *ngIf="common.CheckIfUserhasAccess_Action('Deposit Schedule','Add')" class="matTableButtons"
                          [hidden]="isView" mdbBtn floating="true" mdbTooltip="Add Row" placement="right"   size="sm"
                           gradient="aqua"  mdbWavesEffect>
                          <mdb-icon fas icon="plus"></mdb-icon>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="primary" outline="true" class="waves-effect" mdbWavesEffect
          (click)="frameQuickLink.hide()">Update</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- --------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------ Modals - END
-------------------------------------------------------------------------------------------------------- -->
<!-- Deal Title and Address -->
<mdb-accordion [multiple]="false" aria-multiselectable="true" style="WIDTH: 100%;">
  <mdb-accordion-item [collapsed]="true">
    <mdb-accordion-item-head> Deal Title </mdb-accordion-item-head>
    <mdb-accordion-item-body> 220 6th Avenue North, Seattle, WA 98109 US </mdb-accordion-item-body>
  </mdb-accordion-item>
</mdb-accordion>
<!-- tabs -->
<!-- --------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------ Tabs
-------------------------------------------------------------------------------------------------------- -->
<mdb-tabset #staticTabs [buttonClass]="'md-tabs tabs-primary tabs-3'" [justified]="true" [contentClass]="'card'">
  <!--Panel 1-->
  <!-- Deal Overview -->
  <mdb-tab heading="Deal Overview">
    <!-- main info -->
    <div class="row">
      <div class="col-12">
        <mdb-card class="card-height text-white m-2">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h4-responsive">Main Info</h5>
            <mdb-icon data-toggle="modal" data-target="#basicExample" (click)="frameDealInfo.show()" far icon="edit">
            </mdb-icon>
          </mdb-card-header>
          <mdb-card-body>
            <div class="row">
              <div class="col-sm-4">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Deal Name</label>
                    <span>{{ dealItem.Title }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Deal Date</label>
                    <span>{{ dealItem.DateEntered | date: 'MM/dd/yyyy' }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Market</label>
                    <span>{{ dealItem.Market?.Title }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Sub-Market</label>
                    <span>{{ dealItem.SubMarket?.Title }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Report Output</label>
                    <span>{{ dealItem.ReportOutput == true ? 'Yes' : 'No' }}</span>
                  </li>
                </ul>
              </div>
              <div class="col-sm-4">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Address</label>
                    <span>{{ dealItem.Address }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>City</label>
                    <span>{{ dealItem.City }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>State</label>
                    <span> {{dealItem.State?.Title}} - {{dealItem.State?.Name}} </span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Zip Code</label>
                    <span>{{ dealItem.ZipCode }}</span>
                  </li>
                </ul>
              </div>
              <div class="col-sm-4">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Description</label>
                    <span>{{ dealItem.Description }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Project Type</label>
                    <span>{{ dealItem.ProjectType?.Title }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Deal Type</label>
                    <span>{{ dealItem.DealType?.Title }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>BMR Deal Team</label>
                    <span>{{ dealItem.BMRDealTeam?.Title }}</span>
                  </li>
                </ul>
              </div>
            </div>
          </mdb-card-body>
        </mdb-card>
      </div>
    </div>
    <!-- Investment Summary -->
    <div class="row">
      <div class="col-12">
        <mdb-card class="card-height text-white m-2">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h4-responsive">Investment Summary</h5>
            <mdb-icon data-toggle="modal" data-target="#basicExample" (click)="frameInvestment.show()" far icon="edit">
            </mdb-icon>
          </mdb-card-header>
          <mdb-card-body>
            <div class="row">
              <div class="col-sm-4">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Fund(s)</label>
                    <span>{{ investmentSummary_Edit.Funds.Title }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>In-Place RSF</label>
                    <span>{{investmentSummary.InPlaceRSF | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Stabilized Basis</label>
                    <span>{{investmentSummary.StabilizedBasis | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Untrended YoC</label>
                    <span>{{investmentSummary.UntrendedYoC | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Hard Costs PSF</label>
                    <span>{{investmentSummary.HardCostsPSF | currency}}</span>
                  </li>
                </ul>
              </div>
              <div class="col-sm-4">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Analysis Start Date</label>
                    <span>{{investmentSummary.AnalysisStartDate | date: 'MM/dd/yyyy'}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Purchase Price</label>
                    <span>{{investmentSummary.PurchasePrice | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Stabilized RSF</label>
                    <span>{{investmentSummary.StabilizedRSF | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Lab Market Rent $PSF (Ann.)</label>
                    <span>{{investmentSummary.LabMarketRentPSFAnn | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Tenant Improvements $PSF</label>
                    <span>{{investmentSummary.TenantImprovementsPSF | currency}}</span>
                  </li>
                </ul>
              </div>
              <div class="col-sm-4">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Est. Completion Date</label>
                    <span>{{investmentSummary.EstCompletionDate | date: 'MM/dd/yyyy'}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Purchase Price PSF</label>
                    <span>{{investmentSummary.PurchasePricePSF | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Stabilized Basis PSF</label>
                    <span>{{investmentSummary.StabilizedBasisPSF | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Lab Market Rent $PSF (Mo.)</label>
                    <span>{{investmentSummary.LabMarketRentPSFMon | currency}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Conversion Cost PSF</label>
                    <span>{{investmentSummary.ConversionCostPSF | currency}}</span>
                  </li>
                </ul>
              </div>
            </div>
          </mdb-card-body>
        </mdb-card>
      </div>
    </div>
    <!-- Deal Details + Broker + Seller -->
    <div class="row">
      <!-- Deal Details -->
      <div class="col-6">
        <mdb-card class="card-height text-white m-2" style="height: 90%;">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h5-responsive">Deal Details</h5>
            <mdb-icon data-toggle="modal" data-target="#basicExample" (click)="frameDealDetails.show()" far icon="edit">
            </mdb-icon>
          </mdb-card-header>
          <mdb-card-body>
            <div class="row">
              <div class="col-sm-12">
                <ul class="list-group list-group-flush striped-list">
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Brokerage</label>
                    <span>{{_Brokerage}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Broker</label>
                    <span>{{_Brokers}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Status</label>
                    <span style="color: #5e7add !important;
                      font-weight: 900;">{{dealItem.Status?.Title}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <label>Seller</label>
                    <span>{{sellerString}}</span>
                  </li>
                </ul>
              </div>
            </div>
          </mdb-card-body>
        </mdb-card>
      </div>
      <!-- Key Upcoming Date(s) -->
      <div class="col-6">
        <mdb-card class="card-height text-white m-2" style="height: 90%;">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h5-responsive">Key Upcoming Date(s)</h5>
            <mdb-icon data-toggle="modal" data-target="#basicExample" (click)="frameKeyCheck.show()" far icon="edit">
            </mdb-icon>
          </mdb-card-header>
          <mdb-card-body>
            <div class="row">
              <div class="col-sm-12" style="border-bottom: 1px solid rgba(0,0,0,.125);"
                *ngFor="let item of KeyUpcomingDates">
                <div class="NotesAuditInfo">
                  {{item.KeyUpcomingDate | date: 'MM/dd/yyyy'}}
                </div>
                <div style="color:#747373">{{item.Title}}</div>
              </div>
            </div>
          </mdb-card-body>
        </mdb-card>
        <!-- Material unchecked disabled -->
      </div>
    </div>
    <!-- Photos -->
    <div class="row">
      <div class="col-4">
        <mdb-card class="card-height text-white m-2" style="height: 90%;">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h5-responsive">Photos</h5>
          </mdb-card-header>
          <mdb-card-body>
            <mdb-card-text>
              <!-- <mdb-image-modal [modalImages]="images" type="margin"></mdb-image-modal> -->
            </mdb-card-text>
          </mdb-card-body>
        </mdb-card>
      </div>
      <div class="col-8">
        <!-- <mdb-card class="card-height text-white m-2">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h5-responsive">Location</h5>
          </mdb-card-header>
          <mdb-card-body>
            <mdb-card-text>
              <agm-map [latitude]="latitude" [longitude]="longitude" style="height: 300px"
                (mapClick)="placeMarker($event)">
                <agm-marker *ngFor="let marker of markers" [latitude]="marker.latitude" [longitude]="marker.longitude">
                </agm-marker>
              </agm-map>
            </mdb-card-text>
          </mdb-card-body>
        </mdb-card> -->
      </div>
    </div>
  </mdb-tab>
  <!-- Deal Comments -->
  <mdb-tab heading="Deal Comments">
    <div class="row">
      <div class="col-12">
        <mdb-card class="card-height text-white m-2">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h5-responsive">Deal Comments</h5>
          </mdb-card-header>
          <mdb-card-body>
            <!-- <app-vendor-notes-list [input_vendorNotesList]="vendorNotesList3" [ifAddButton]="true"
              [vendorID]="primaryKey" [dealID]="primaryKey" [Category]="'3'" (addNoteEvent)="onNotesAdded($event)">
            </app-vendor-notes-list> -->
          </mdb-card-body>
        </mdb-card>
      </div>
    </div>
  </mdb-tab>
  <!-- BMR Notes -->
  <mdb-tab heading="BMR Notes">
    <!-- <app-vendor-notes-list [input_vendorNotesList]="vendorNotesList3" [ifAddButton]="true" [vendorID]="primaryKey"
      [dealID]="primaryKey" [Category]="'3'" (addNoteEvent)="onNotesAdded($event)">
    </app-vendor-notes-list> -->
  </mdb-tab>
  <!-- Quick Links -->
  <mdb-tab heading="Quick Links">
    <div class="row">
      <div class="col-12">
        <mdb-card class="card-height text-white m-2">
          <mdb-card-header class="light-blue-skin navbar">
            <h5 class="h4-responsive">Quick Links</h5>
            <mdb-icon data-toggle="modal" data-target="#basicExample" (click)="frameQuickLink.show()" far icon="edit">
            </mdb-icon>
          </mdb-card-header>
          <mdb-card-body>
            <div class="row">
              <div class="col-sm-4">
                <table >
                  <tbody>
                    <tr>
                      <td><a href="#">BMR News</a></td>
                    </tr> 
                    <tr>
                      <td><a href="#">Fredd</a></td>
                    </tr> 
                    <tr>
                      <td><a href="#">Letter Head</a></td>
                    </tr> 
                    <tr>
                      <td><a href="#">Manual Billings</a></td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-sm-4">
              </div>
              <div class="col-sm-4">
              </div>
            </div>
          </mdb-card-body>
        </mdb-card>
      </div>
    </div>
  </mdb-tab>
</mdb-tabset>
<!-- --------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------ Tabs - END
-------------------------------------------------------------------------------------------------------- -->
