{"version":3,"file":"mdb-calendar.js","sources":["ng://mdb-calendar/lib/components/event-modal/event-modal.component.ts","ng://mdb-calendar/lib/uilts/calendar-view.ts","ng://mdb-calendar/lib/components/calendar/calendar.component.ts","ng://mdb-calendar/lib/uilts/event-utils.ts","ng://mdb-calendar/lib/components/calendar-week-view/calendar-week-view.component.ts","ng://mdb-calendar/lib/components/calendar-month-view/calendar-month-view.component.ts","ng://mdb-calendar/lib/components/calendar-list-view/calendar-list-view.component.ts","ng://mdb-calendar/lib/calendar.module.ts","ng://mdb-calendar/public_api.ts","ng://mdb-calendar/mdb-calendar.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MDBModalRef } from 'angular-bootstrap-md';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { CalendarEvent } from '../../interfaces/calendar-event.interface';\nimport { Subject } from 'rxjs';\nimport { parse } from 'date-fns';\n\n@Component({\n  selector: 'mdb-event-modal',\n  templateUrl: './event-modal.component.html',\n  styleUrls: ['./event-modal.component.scss']\n})\nexport class EventModalComponent implements OnInit {\n  title: string;\n  heading: string;\n  actionBtn: string;\n  cancelBtn: string;\n  mode: string;\n  editable: boolean;\n  event: CalendarEvent;\n\n  eventForm: FormGroup;\n\n  constructor(public modalRef: MDBModalRef) {}\n\n  eventData: Subject<CalendarEvent> = new Subject();\n\n  eventDeleted: Subject<CalendarEvent> = new Subject();\n\n  getParsedValues(eventData: any) {\n    const id = this.event.id;\n    const name = eventData.name;\n    const startDate = parse(eventData.startDate.replace(', ', 'T'));\n    const endDate = parse(eventData.endDate.replace(', ', 'T'));\n    const color = eventData.color;\n\n    return { id, name, startDate, endDate, color };\n  }\n\n  ngOnInit() {\n    if (this.event && this.mode === 'edit') {\n      this.eventForm = new FormGroup({\n        name: new FormControl({ value: this.event.name, disabled: !this.editable }),\n        startDate: new FormControl({ value: this.event.startDate, disabled: !this.editable }),\n        endDate: new FormControl({ value: this.event.endDate, disabled: !this.editable }),\n        color: new FormControl({ value: this.event.color, disabled: !this.editable })\n      });\n    } else {\n      this.eventForm = new FormGroup({\n        name: new FormControl('New event'),\n        startDate: new FormControl(this.event.startDate),\n        endDate: new FormControl(this.event.endDate),\n        color: new FormControl(this.event.color)\n      });\n    }\n  }\n\n  onSave() {\n    const event = this.getParsedValues(this.eventForm.value);\n    this.eventData.next(event);\n    this.modalRef.hide();\n  }\n\n  onDelete() {\n    const event = this.getParsedValues(this.eventForm.value);\n    this.eventDeleted.next(event);\n    this.modalRef.hide();\n  }\n\n}\n","export enum CalendarView {\n  month = 'month',\n  week = 'week',\n  list = 'list'\n}\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { CalendarEvent } from '../../interfaces/calendar-event.interface';\nimport { MDBModalService, MDBModalRef } from 'angular-bootstrap-md';\nimport { EventModalComponent } from '../event-modal/event-modal.component';\nimport { CalendarView } from '../../uilts/calendar-view';\nimport { take } from 'rxjs/operators';\nimport { format, getYear, getMonth, getDate } from 'date-fns';\nimport { MdbCalendarOptions } from '../../interfaces/calendar-options.interface';\n\n@Component({\n  selector: 'mdb-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.scss']\n})\nexport class MdbCalendarComponent implements OnInit {\n  weekDaysDefault = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday'\n  ];\n  weekDaysShortDefault = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  monthsDefault = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n  ];\n  monthsShortDefault = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec'\n  ];\n\n  calendarOptions: MdbCalendarOptions = {\n    firstDayOfWeek: 'Sunday',\n    monthViewBtnTxt: 'Month',\n    weekViewBtnTxt: 'Week',\n    listViewBtnTxt: 'List',\n    todayBtnTxt: 'Today',\n    eventAddTitle: 'Add new event',\n    eventEditTitle: 'Edit event',\n    eventCancelBtnTxt: 'Cancel',\n    eventAddBtnTxt: 'Add',\n    eventEditBtnTxt: 'Edit',\n    eventDeleteBtnTxt: 'Delete'\n  };\n\n  dayLabels: string[] = [];\n  dayLabelsShort: string[] = [];\n  weekDayIndex: number;\n\n  @Input() events: CalendarEvent[] = [];\n  @Input() options: MdbCalendarOptions;\n  @Input() editable = true;\n  @Input() weekDays: string[] = this.weekDaysDefault;\n  @Input() weekDaysShort: string[] = this.weekDaysShortDefault;\n  @Input() months: string[] = this.monthsDefault;\n  @Input() monthsShort: string[] = this.monthsShortDefault;\n  @Input() defaultView: CalendarView;\n  @Output() eventDeleted = new EventEmitter<CalendarEvent>();\n  @Output() eventEdited = new EventEmitter<CalendarEvent>();\n  @Output() eventAdded = new EventEmitter<CalendarEvent>();\n\n  @Output() monthChanged = new EventEmitter<any>();\n  @Output() weekChanged = new EventEmitter<any>();\n  @Output() listChanged = new EventEmitter<any>();\n\n  modalRef: MDBModalRef;\n  MS_IN_DAY = 24 * 60 * 60 * 1000;\n\n  view = CalendarView;\n\n  currentView: CalendarView = this.view.month;\n\n  constructor(private modalService: MDBModalService) {}\n\n  ngOnInit() {\n    this.calendarOptions = this.options ? Object.assign(this.calendarOptions, this.options) : this.calendarOptions;\n    this._changeDaysOrder();\n    if (this.defaultView) { this.onViewChange(this.defaultView); }\n  }\n\n  private _changeDaysOrder() {\n    const dayIndex = this.weekDayIndex = this.weekDaysDefault.indexOf(this.calendarOptions.firstDayOfWeek);\n\n    if (dayIndex !== -1) {\n      let index = dayIndex;\n      for (let i = 0; i < this.weekDays.length; i++) {\n        this.dayLabels.push(this.weekDays[index]);\n        this.dayLabelsShort.push(this.weekDaysShort[index]);\n        index = this.weekDaysDefault[index] === 'Saturday' ? 0 : index + 1;\n      }\n    }\n\n  }\n\n  getFormattedEvent(event: CalendarEvent) {\n    return {\n      id: event.id,\n      name: event.name,\n      startDate: format(event.startDate, 'YYYY-MM-DD, HH:mm:ss'),\n      endDate: format(event.endDate, 'YYYY-MM-DD, HH:mm:ss'),\n      color: event.color\n    };\n  }\n\n  formatDate(date: Date) {\n    const year = getYear(date);\n    const month = getMonth(date);\n    const day = getDate(date);\n  }\n\n  onDayClick(day: any) {\n    if (this.editable) {\n      this.openAddModal(day);\n    }\n  }\n\n  onEventClick(event: CalendarEvent) {\n    this.openEditModal(event);\n  }\n\n  onViewChange(view: string) {\n    this.currentView = this.view[view];\n  }\n\n  onMonthChange(event: any) {\n    this.monthChanged.emit(event);\n  }\n\n  onWeekChange(event: any) {\n    this.weekChanged.emit(event);\n  }\n\n  onListChange(event: any) {\n    this.listChanged.emit(event);\n  }\n\n  openAddModal(event: CalendarEvent) {\n    const data = {\n      title: this.calendarOptions.eventAddTitle,\n      actionBtn: this.calendarOptions.eventAddBtnTxt,\n      cancelBtn: this.calendarOptions.eventCancelBtnTxt,\n      mode: 'add',\n      editable: this.editable,\n      event: this.getFormattedEvent(event)\n    };\n    this.modalRef = this.modalService.show(EventModalComponent, { data });\n\n    this.modalRef.content.eventData\n      .pipe(take(1))\n      .subscribe((newEvent: CalendarEvent) => {\n        this.eventAdded.emit(newEvent);\n      });\n  }\n\n  openEditModal(event: CalendarEvent) {\n    const data = {\n      title: this.calendarOptions.eventEditTitle,\n      actionBtn: this.calendarOptions.eventEditBtnTxt,\n      cancelBtn: this.calendarOptions.eventDeleteBtnTxt,\n      mode: 'edit',\n      editable: this.editable,\n      event: event\n    };\n    this.modalRef = this.modalService.show(EventModalComponent, { data });\n\n    this.modalRef.content.eventData\n      .pipe(take(1))\n      .subscribe((editedEvent: CalendarEvent) => {\n        this.eventEdited.emit(editedEvent);\n      });\n\n    this.modalRef.content.eventDeleted\n      .pipe(take(1))\n      .subscribe((deletedEvent: CalendarEvent) => {\n        this.eventDeleted.emit(deletedEvent);\n      });\n  }\n}\n","import { format } from 'date-fns';\n\nexport const MS_IN_DAY = 24 * 60 * 60 * 1000;\nexport const MS_IN_HOUR = 60 * 60 * 1000;\n\nexport function getPeriodEvents(events: any, start: Date, end: Date) {\n  return events.filter( (event: any) => {\n\n    if (event.startDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.endDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.startDate <= start && event.endDate >= end) {\n      return true;\n    }\n\n    return false;\n\n  });\n}\n\nexport function getMonthDayEvents(events: any, start: Date, end: Date) {\n  return events\n  .filter( (event: any) => {\n    if (event.startDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.endDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.startDate <= start && event.endDate >= end) {\n      return true;\n    }\n\n    return false;\n  })\n  .map( (event) => {\n    return {\n      ...event,\n      startStr: format(event.startDate, 'YYYY-MM-DDTHH:mm:ss'),\n      endStr: format(event.endDate, 'YYYY-MM-DDTHH:mm:ss'),\n      eventStart: event.startDate >= start,\n      eventEnd: event.endDate <= end,\n      longEvent: event.endDate.getTime() - event.startDate.getTime() >= MS_IN_DAY\n    };\n  });\n}\n\nexport function getListViewEvents(events: any, start: Date, end: Date) {\n  return events\n  .filter( (event: any) => {\n    if (event.startDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.endDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.startDate <= start && event.endDate >= end) {\n      return true;\n    }\n\n    if (event.startDate >= start && event.startDate <= end) {\n      return true;\n    }\n\n    return false;\n  })\n  .map( (event) => {\n    return {\n      ...event,\n      startStr: format(event.startDate, 'YYYY-MM-DDTHH:mm:ss'),\n      endStr: format(event.endDate, 'YYYY-MM-DDTHH:mm:ss'),\n      start: {\n        date: format(event.startDate, 'DD/MM/YYYY'),\n        time: format(event.startDate, 'h:mm:ss A')\n      },\n      end: {\n        date: format(event.endDate, 'DD/MM/YYYY'),\n        time: format(event.endDate, 'h:mm:ss A')\n      }\n    };\n  });\n}\n\n\nexport function getWeekDayEvents(events: any, start: Date, end: Date, dayStart: Date, dayEnd: Date) {\n  return events\n  .filter( (event: any) => {\n    if (event.startDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.endDate >= start && event.endDate <= end) {\n      return true;\n    }\n\n    if (event.startDate <= start && event.endDate >= end) {\n      return true;\n    }\n\n    return false;\n  })\n  .map( (event) => {\n    return {\n      ...event,\n      startStr: format(event.startDate, 'YYYY-MM-DDTHH:mm:ss'),\n      endStr: format(event.endDate, 'YYYY-MM-DDTHH:mm:ss'),\n      allDay: event.startDate <= dayStart && event.endDate.getTime() >= dayEnd.getTime() - 999,\n    };\n  });\n}\n\nexport function getWeekHourEvents(events: any, start: Date, end: Date, dayStart: Date, dayEnd: Date) {\n  return getWeekDayEvents(events, start, end, dayStart, dayEnd)\n    .filter(event => !event.allDay)\n    .map( event => {\n      return {\n        ...event,\n      eventStart: event.startDate >= start,\n      eventEnd: event.endDate <= end,\n      longEvent: event.endDate.getTime() - event.startDate.getTime() >= MS_IN_HOUR\n      };\n    });\n}\n\nexport function getWeekAllDayEvents(events: any, start: Date, end: Date, dayStart: Date, dayEnd: Date) {\n  return getWeekDayEvents(events, start, end, dayStart, dayEnd)\n    .filter(event => event.allDay)\n    .map( event => {\n      return {\n        ...event,\n        eventStart: event.startDate >= dayStart,\n        eventEnd: event.endDate <= dayEnd,\n        longEvent: event.endDate.getTime() - event.startDate.getTime() >= MS_IN_DAY\n      };\n    });\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  Renderer2,\n  ViewChildren,\n  QueryList,\n  ElementRef,\n  AfterViewInit\n} from '@angular/core';\nimport {\n  startOfWeek,\n  addDays,\n  getDate,\n  getDay,\n  getMonth,\n  getYear,\n  startOfDay,\n  addHours,\n  addMinutes,\n  subDays,\n  endOfDay,\n  isToday,\n  isWeekend,\n  format\n} from 'date-fns';\nimport { CalendarEvent } from '../../interfaces/calendar-event.interface';\nimport {\n  getWeekHourEvents,\n  getWeekAllDayEvents\n} from '../../uilts/event-utils';\nimport { MdbCalendarOptions } from '../../interfaces/calendar-options.interface';\n\n@Component({\n  selector: 'mdb-calendar-week-view',\n  templateUrl: './calendar-week-view.component.html',\n  styleUrls: ['./calendar-week-view.component.scss']\n})\nexport class MdbCalendarWeekViewComponent implements OnInit, AfterViewInit {\n  @ViewChildren('dayEl') days: QueryList<any>;\n  @ViewChildren('fullDayEl') fullDays: QueryList<any>;\n\n  @Input()\n  get events() {\n    return this._events;\n  }\n  set events(events: CalendarEvent[]) {\n    this._events = events;\n    this.weekView = this.createWeekView(this.initDay);\n  }\n  private _events: CalendarEvent[];\n  @Input() weekDaysShort: string[] = [];\n  @Input() monthsShort: string[] = [];\n  @Input() weekDayIndex = 0;\n  @Input() options: MdbCalendarOptions;\n\n  @Output() dateClicked = new EventEmitter<any>();\n  @Output() eventClicked = new EventEmitter<any>();\n  @Output() viewChanged = new EventEmitter<string>();\n  @Output() weekChanged = new EventEmitter<any>();\n\n  startDate: Date;\n  endDate: Date;\n\n  weekView: any;\n  initDay: Date;\n\n  dayCells: HTMLElement[] = [];\n  fullDayCells: HTMLElement[] = [];\n  columns: HTMLElement[] = [];\n\n  fullDaySelectionStart: Date;\n  fullDaySelectionEnd: Date;\n\n  fullDayEditing: boolean;\n  dayEditing: boolean;\n\n  selectionStartDate: Date;\n  selectionEndDate: Date;\n\n  dragStart: any;\n  isDragging: boolean;\n  dragEnd: any;\n\n  constructor(private renderer: Renderer2) {}\n\n  ngOnInit() {\n    const initDay = this.initDay = startOfWeek(startOfDay(new Date()), { weekStartsOn: this.weekDayIndex });\n    this.weekView = this.createWeekView(initDay);\n  }\n\n  ngAfterViewInit() {\n    this.fullDayCells = this.fullDays\n    .toArray()\n    .map((el: ElementRef) => el.nativeElement);\n\n    this.dayCells = this.days\n    .toArray()\n    .map((el: ElementRef) => el.nativeElement);\n\n\n    for (let i = 1; i <= 7; i++) {\n      this.dayCells.forEach( (row: any) => {\n        this.columns.push(row.children[i]);\n      });\n    }\n\n  }\n\n  trackByFn(index) {\n    return index;\n  }\n\n  previous() {\n    this.initDay = subDays(this.initDay, 7);\n    this.weekView = this.createWeekView(this.initDay);\n    this.weekChanged.emit({\n      startDate: this.startDate,\n      endDate: this.endDate\n    });\n  }\n\n  next() {\n    this.initDay = addDays(this.initDay, 7);\n    this.weekView = this.createWeekView(this.initDay);\n    this.weekChanged.emit({\n      startDate: this.initDay,\n      endDate: this.endDate\n    });\n  }\n\n  goToToday() {\n    this.initDay = startOfWeek(startOfDay(new Date()), { weekStartsOn: this.weekDayIndex });\n    this.weekView = this.createWeekView(this.initDay);\n    this.weekChanged.emit({\n      startDate: this.startDate,\n      endDate: this.endDate\n    });\n  }\n\n  fullDayMouseDown(event: any, day: any) {\n    if (this.dayEditing) {\n      return;\n    }\n    this.fullDayEditing = true;\n    this.dragStart = this.fullDayCells.indexOf(event.target);\n    this.isDragging = true;\n    this.fullDaySelectionStart = day.startDate;\n  }\n\n  fullDayMouseUp(event: any, day: any) {\n    this.dragEnd = this.fullDayCells.indexOf(event.target);\n    this.fullDaySelectionEnd = day.endDate;\n    this.fullDayEditing = false;\n\n    const calendarEvent = {\n      name: 'New event',\n      startDate: this.fullDaySelectionStart,\n      endDate: this.fullDaySelectionEnd,\n      color: 'info'\n    };\n    if (this.dragStart !== this.dragEnd) {\n      this.dateClicked.emit(calendarEvent);\n    }\n    this.isDragging = false;\n\n    if (this.dragEnd !== 0) {\n      this.fullDaySelectRange();\n    }\n\n    this.fullDayClearSelection();\n  }\n\n  fullDaySelectRange() {\n    this.fullDayClearSelection();\n\n    if (this.dragEnd > this.dragStart) {\n      if (this.dragEnd + 1 < this.dragStart) {\n        this.fullDayCells\n          .slice(this.dragEnd, this.dragStart + 1)\n          .forEach(cell =>\n            this.renderer.setStyle(cell, 'background-color', 'rgba(69,82,110,.3)')\n          );\n      } else {\n        this.fullDayCells\n          .slice(this.dragStart, this.dragEnd + 1)\n          .forEach(cell =>\n            this.renderer.setStyle(cell, 'background-color', 'rgba(69,82,110,.3)')\n          );\n      }\n    }\n  }\n\n  fullDayClearSelection() {\n    this.fullDayCells.forEach(cell =>\n      this.renderer.removeStyle(cell, 'background-color')\n    );\n  }\n\n  fullDayMouseMove(event: any) {\n    event.preventDefault();\n    if (this.dayEditing) {\n      return;\n    }\n    if (this.isDragging) {\n      this.dragEnd = this.fullDayCells.indexOf(event.target);\n      this.fullDaySelectRange();\n    }\n  }\n\n  onMouseDown(event: any, day: any) {\n    if (this.fullDayEditing) {\n      return;\n    }\n\n    this.dayEditing = true;\n    this.dragStart = this.columns.indexOf(event.target);\n    this.isDragging = true;\n    this.selectionStartDate = day.startDate;\n  }\n\n  onMouseUp(event: any, day: any) {\n    this.dragEnd = this.columns.indexOf(event.target);\n    this.selectionEndDate = day.endDate;\n    this.dayEditing = false;\n\n    const calendarEvent = {\n      name: 'New event',\n      startDate: new Date(this.selectionStartDate),\n      endDate: new Date(this.selectionEndDate),\n      color: 'info'\n    };\n    if (this.dragStart !== this.dragEnd) {\n      this.dateClicked.emit(calendarEvent);\n    }\n    this.isDragging = false;\n\n    if (this.dragEnd !== 0) {\n      this.selectRange();\n    }\n\n    this.clearSelection();\n  }\n\n  selectRange() {\n    this.clearSelection();\n\n    if (this.dragEnd > this.dragStart) {\n      if (this.dragEnd + 1 < this.dragStart) {\n        this.columns\n          .slice(this.dragEnd, this.dragStart + 1)\n          .forEach(cell =>\n            this.renderer.setStyle(cell, 'background-color', 'rgba(69,82,110,.3)')\n          );\n      } else {\n        this.columns\n          .slice(this.dragStart, this.dragEnd + 1)\n          .forEach(cell =>\n            this.renderer.setStyle(cell, 'background-color', 'rgba(69,82,110,.3)')\n          );\n      }\n    }\n  }\n\n  clearSelection() {\n    this.columns.forEach(cell =>\n      this.renderer.removeStyle(cell, 'background-color')\n    );\n  }\n\n  onMouseMove(event: any) {\n    event.preventDefault();\n\n    if (this.fullDayEditing) {\n      return;\n    }\n    if (this.isDragging) {\n      this.dragEnd = this.columns.indexOf(event.target);\n      this.selectRange();\n    }\n  }\n\n  onEventClick(event: CalendarEvent) {\n    const eventCopy = {\n      id: event.id,\n      name: event.name,\n      startDate: format(event.startDate, 'YYYY-MM-DD, HH:mm:ss'),\n      endDate: format(event.endDate, 'YYYY-MM-DD, HH:mm:ss'),\n      color: event.color\n    };\n    this.eventClicked.emit(eventCopy);\n  }\n\n  onDateClick(date: any) {\n    const newEvent = {\n      name: 'New event',\n      startDate: date.startDate,\n      endDate: date.endDate,\n      color: 'info'\n    };\n    this.dateClicked.emit(newEvent);\n  }\n\n  onViewChange(view: string) {\n    this.viewChanged.emit(view);\n  }\n\n  createWeekView(initDate: Date) {\n    const firstDay = initDate;\n    const lastDay = addDays(firstDay, 6);\n\n    this.startDate = firstDay;\n    this.endDate = lastDay;\n\n    const period = {\n      start: `${getDate(firstDay)} ${\n        this.monthsShort[getMonth(firstDay)]\n      }, ${getYear(firstDay)}`,\n      end: `${getDate(lastDay)} ${\n        this.monthsShort[getMonth(lastDay)]\n      }, ${getYear(lastDay)}`\n    };\n\n    const allDayRow = [];\n    const weekRows = [];\n    let row = [];\n    let date: Date;\n    let month: number;\n    let year: number;\n    let day: string;\n    let dayNumber: number;\n    let startDate: Date;\n    let endDate: Date;\n    let dayStart: Date;\n    let dayEnd: Date;\n\n    for (let i = 0; i < 24; i++) {\n      row = [];\n\n      for (let j = 0; j < 7; j++) {\n        date = addDays(firstDay, j);\n        month = getMonth(date) + 1;\n        year = getYear(date);\n        day = this.weekDaysShort[getDay(date)];\n        dayNumber = getDate(date);\n        startDate = addHours(startOfDay(date), i);\n        endDate = addMinutes(startDate, 59.99);\n        dayStart = startOfDay(date);\n        dayEnd = endOfDay(date);\n\n        row.push({\n          startDate: startDate,\n          endDate: endDate,\n          isToday: isToday(date),\n          isWeekend: isWeekend(date),\n          events: getWeekHourEvents(\n            this.events,\n            startDate,\n            endDate,\n            dayStart,\n            dayEnd\n          )\n        });\n\n        if (i === 1) {\n          allDayRow.push({\n            startDate: dayStart,\n            endDate: dayEnd,\n            isToday: isToday(date),\n            isWeekend: isWeekend(date),\n            day: day,\n            dayNumber: dayNumber,\n            month: month,\n            events: getWeekAllDayEvents(\n              this.events,\n              dayStart,\n              dayEnd,\n              dayStart,\n              dayEnd\n            )\n          });\n        }\n      }\n      weekRows.push({ row });\n    }\n    return { allDayRow, weekRows, period };\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  EventEmitter,\n  Output,\n  Renderer2,\n  AfterViewInit,\n  QueryList,\n  ViewChildren,\n  ElementRef\n} from '@angular/core';\nimport { CalendarEvent } from '../../interfaces/calendar-event.interface';\nimport {\n  getDaysInMonth,\n  startOfDay,\n  endOfDay,\n  isToday,\n  isWeekend,\n  format,\n  startOfWeek,\n  getDate\n} from 'date-fns';\nimport { getMonthDayEvents } from '../../uilts/event-utils';\nimport { MdbCalendarOptions } from '../../interfaces/calendar-options.interface';\n\n@Component({\n  selector: 'mdb-calendar-month-view',\n  templateUrl: './calendar-month-view.component.html',\n  styleUrls: ['./calendar-month-view.component.scss']\n})\nexport class MdbCalendarMonthViewComponent implements OnInit, AfterViewInit {\n  @ViewChildren('dayEl') days: QueryList<ElementRef>;\n  @Input()\n  get events() {\n    return this._events;\n  }\n  set events(events: CalendarEvent[]) {\n    this._events = events;\n    this.dates.forEach(week => {\n      week.week.forEach(day => {\n        day.events = getMonthDayEvents(events, day.startOfDay, day.endOfDay);\n      });\n    });\n  }\n  private _events: CalendarEvent[];\n  @Input() weekDaysShort: string[];\n  @Input() months: string[];\n  @Input() weekDayIndex = 0;\n  @Input() options: MdbCalendarOptions;\n\n  @Output() dayClicked = new EventEmitter<any>();\n  @Output() eventClicked = new EventEmitter<any>();\n  @Output() viewChanged = new EventEmitter<string>();\n  @Output() monthChanged = new EventEmitter<any>();\n\n  selectedMonth: number;\n  selectedYear: number;\n\n  selectionStartDate: Date;\n  selectionEndDate: Date;\n\n  allCells: HTMLElement[] = [];\n\n  dates = [];\n\n  dragStart: any;\n  isDragging: boolean;\n  dragEnd: any;\n\n  constructor(private renderer: Renderer2) {}\n\n  ngOnInit() {\n    const currentYear = new Date().getFullYear();\n    const currentMonth = new Date().getMonth();\n    this.createMonthView(currentYear, currentMonth);\n  }\n\n  ngAfterViewInit() {\n    this.allCells = this.days\n      .toArray()\n      .map((el: ElementRef) => el.nativeElement);\n  }\n\n  trackByFn(index) {\n    return index;\n  }\n\n  trackByEvent(index, item) {\n    return item.id;\n  }\n\n  trackByDay(index, item) {\n    return item.dayNumber;\n  }\n\n  onMouseDown(event: any, day: any) {\n    this.dragStart = this.allCells.indexOf(event.target);\n    this.isDragging = true;\n    this.selectionStartDate = day.startOfDay;\n  }\n\n  onMouseUp(event: any, day: any) {\n    this.dragEnd = this.allCells.indexOf(event.target);\n    this.selectionEndDate = day.endOfDay;\n\n    const calendarEvent = {\n      name: 'New event',\n      startDate: this.selectionStartDate,\n      endDate: this.selectionEndDate,\n      color: 'info'\n    };\n    if (this.dragStart !== this.dragEnd) {\n      this.dayClicked.emit(calendarEvent);\n    }\n    this.isDragging = false;\n\n    if (this.dragEnd !== 0) {\n      this.selectRange();\n    }\n\n    this.clearSelection();\n  }\n\n  selectRange() {\n    this.clearSelection();\n\n    if (this.dragEnd > this.dragStart) {\n      if (this.dragEnd + 1 < this.dragStart) {\n        this.allCells\n          .slice(this.dragEnd, this.dragStart + 1)\n          .forEach(cell =>\n            this.renderer.setStyle(cell, 'background-color', 'rgba(69,82,110,.3)')\n          );\n      } else {\n        this.allCells\n          .slice(this.dragStart, this.dragEnd + 1)\n          .forEach(cell =>\n            this.renderer.setStyle(cell, 'background-color', 'rgba(69,82,110,.3)')\n          );\n      }\n    }\n  }\n\n  clearSelection() {\n    this.allCells.forEach(cell =>\n      this.renderer.removeStyle(cell, 'background-color')\n    );\n  }\n\n  onMouseMove(event: any) {\n    event.preventDefault();\n    if (this.isDragging) {\n      this.dragEnd = this.allCells.indexOf(event.target);\n      this.selectRange();\n    }\n  }\n\n  onDayClick(day: any) {\n    const newEvent = {\n      name: 'New event',\n      startDate: day.startOfDay,\n      endDate: day.endOfDay,\n      color: 'info'\n    };\n    this.dayClicked.emit(newEvent);\n  }\n\n  onEventClick(event: CalendarEvent) {\n    const eventCopy = {\n      id: event.id,\n      name: event.name,\n      startDate: format(event.startDate, 'YYYY-MM-DD, HH:mm:ss'),\n      endDate: format(event.endDate, 'YYYY-MM-DD, HH:mm:ss'),\n      color: event.color\n    };\n    this.eventClicked.emit(eventCopy);\n  }\n\n  onViewChange(view: string) {\n    this.viewChanged.emit(view);\n  }\n\n  next() {\n    if (this.selectedMonth === 11) {\n      this.createMonthView(this.selectedYear + 1, 0);\n    } else {\n      this.createMonthView(this.selectedYear, this.selectedMonth + 1);\n    }\n\n    this.monthChanged.emit({\n      index: this.selectedMonth,\n      month: this.months[this.selectedMonth],\n      year: this.selectedYear\n    });\n  }\n\n  previous() {\n    if (this.selectedMonth === 0) {\n      this.createMonthView(this.selectedYear - 1, 11);\n    } else {\n      this.createMonthView(this.selectedYear, this.selectedMonth - 1);\n    }\n\n    this.monthChanged.emit({\n      index: this.selectedMonth,\n      month: this.months[this.selectedMonth],\n      year: this.selectedYear\n    });\n  }\n\n  goToToday() {\n    const today = new Date();\n    const currentYear = today.getFullYear();\n    const currentMonth = today.getMonth();\n    this.createMonthView(currentYear, currentMonth);\n\n    this.monthChanged.emit({\n      index: this.selectedMonth,\n      name: this.months[this.selectedMonth],\n      year: this.selectedYear\n    });\n  }\n\n  getDaysInPreviousMonth(year: number, month: number): number {\n    if (month === -1) {\n      return getDaysInMonth(new Date(year - 1, 11));\n    }\n    return getDaysInMonth(new Date(year, month));\n  }\n\n  createMonthView(year: number, month: number) {\n    this.selectedMonth = month;\n    this.selectedYear = year;\n    const daysInMonth = getDaysInMonth(new Date(year, month));\n    const daysInPreviousMonth = this.getDaysInPreviousMonth(year, month - 1);\n    const firstDay = startOfWeek(new Date(year, month), { weekStartsOn: this.weekDayIndex });\n    const firstVisibleDay = getDate(firstDay);\n\n    let dayStart: Date;\n    let dayEnd: Date;\n\n    const dates = [];\n    let dayNumber = 1;\n    let monthNumber = month;\n\n    for (let i = 1; i < 7; i++) {\n      const week = [];\n\n      if (i === 1 && firstVisibleDay !== 1) {\n        for (let j = firstVisibleDay; j <= daysInPreviousMonth; j++) {\n          dayStart = startOfDay(new Date(year, month - 1, j));\n          dayEnd = endOfDay(new Date(year, month - 1, j));\n          week.push({\n            dayNumber: j,\n            isToday: false,\n            isWeekend: isWeekend(new Date(year, month - 1, j)),\n            month: month - 1,\n            startOfDay: startOfDay(new Date(year, month - 1, j)),\n            endOfDay: endOfDay(new Date(year, month - 1, j)),\n            events: getMonthDayEvents(this.events, dayStart, dayEnd)\n          });\n        }\n\n        const daysLeft = 7 - week.length;\n\n        for (let j = 0; j < daysLeft; j++) {\n          dayStart = startOfDay(new Date(year, month, dayNumber));\n          dayEnd = endOfDay(new Date(year, month, dayNumber));\n\n          week.push({\n            dayNumber: dayNumber,\n            isToday: isToday(new Date(year, month, dayNumber)),\n            isWeekend: isWeekend(new Date(year, month, dayNumber)),\n            month: month,\n            startOfDay: startOfDay(new Date(year, month, dayNumber)),\n            endOfDay: endOfDay(new Date(year, month, dayNumber)),\n            events: getMonthDayEvents(this.events, dayStart, dayEnd)\n          });\n          dayNumber++;\n        }\n      } else {\n        for (let j = 1; j < 8; j++) {\n          if (dayNumber > daysInMonth) {\n            dayNumber = 1;\n            monthNumber = month + 1;\n          }\n\n          dayStart = startOfDay(new Date(year, monthNumber, dayNumber));\n          dayEnd = endOfDay(new Date(year, monthNumber, dayNumber));\n\n          week.push({\n            dayNumber: dayNumber,\n            isToday: isToday(new Date(year, monthNumber, dayNumber)),\n            isWeekend: isWeekend(new Date(year, monthNumber, dayNumber)),\n            month: monthNumber,\n            startOfDay: startOfDay(new Date(year, monthNumber, dayNumber)),\n            endOfDay: endOfDay(new Date(year, monthNumber, dayNumber)),\n            events: getMonthDayEvents(this.events, dayStart, dayEnd)\n          });\n          dayNumber++;\n        }\n      }\n      dates.push({ week });\n    }\n    this.dates = dates;\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { startOfWeek, addDays, getDate, getYear, getMonth, subDays, startOfDay, format, endOfDay } from 'date-fns';\nimport { getListViewEvents } from '../../uilts/event-utils';\nimport { CalendarEvent } from '../../interfaces/calendar-event.interface';\nimport { MdbCalendarOptions } from '../../interfaces/calendar-options.interface';\n\n@Component({\n  selector: 'mdb-calendar-list-view',\n  templateUrl: './calendar-list-view.component.html',\n  styleUrls: ['./calendar-list-view.component.scss']\n})\nexport class MdbCalendarListViewComponent implements OnInit {\n  @Input()\n  get events() {\n    return this._events;\n  }\n  set events(events: CalendarEvent[]) {\n    this._events = events;\n    this.listView = this.createListView(this.initDay);\n  }\n  private _events: CalendarEvent[];\n  @Input() monthsShort: string[] = [];\n  @Input() options: MdbCalendarOptions;\n  @Input() weekDayIndex = 0;\n\n  @Output() viewChanged = new EventEmitter<string>();\n  @Output() eventClicked = new EventEmitter<any>();\n  @Output() listChanged = new EventEmitter<any>();\n\n  listView: any;\n\n  initDay: Date;\n\n  startDate: Date;\n  endDate: Date;\n\n  constructor() { }\n\n  ngOnInit() {\n    const initDay = this.initDay = startOfWeek(startOfDay(new Date()), { weekStartsOn: this.weekDayIndex });\n    this.listView = this.createListView(this.initDay);\n  }\n\n  previous() {\n    this.initDay = subDays(this.initDay, 7);\n    this.listView = this.createListView(this.initDay);\n    this.listChanged.emit({\n      startDate: this.startDate,\n      endDate: this.endDate\n    });\n  }\n\n  next() {\n    this.initDay = addDays(this.initDay, 7);\n    this.listView = this.createListView(this.initDay);\n    this.listChanged.emit({\n      startDate: this.startDate,\n      endDate: this.endDate\n    });\n  }\n\n  goToToday() {\n    this.initDay = startOfWeek(startOfDay(new Date()));\n    this.listView = this.createListView(this.initDay);\n    this.listChanged.emit({\n      startDate: this.startDate,\n      endDate: this.endDate\n    });\n  }\n\n  onViewChange(view: string) {\n    this.viewChanged.emit(view);\n  }\n\n  trackByFn(index) {\n    return index;\n  }\n\n  onEventClick(event: any) {\n    const eventCopy = {\n      id: event.id,\n      name: event.name,\n      startDate: format(event.startDate, 'YYYY-MM-DD, HH:mm:ss'),\n      endDate: format(event.endDate, 'YYYY-MM-DD, HH:mm:ss'),\n      color: event.color\n    };\n    this.eventClicked.emit(eventCopy);\n  }\n\n  createListView(date: Date) {\n    const firstDay = date;\n    const lastDay = endOfDay(addDays(firstDay, 6));\n    const period = {\n      start: `${getDate(firstDay)} ${this.monthsShort[getMonth(firstDay)]}, ${getYear(firstDay)}`,\n      end: `${getDate(lastDay)} ${this.monthsShort[getMonth(lastDay)]}, ${getYear(lastDay)}`\n    };\n\n    this.startDate = firstDay;\n    this.endDate = lastDay;\n\n    const eventsInPeriod = getListViewEvents(this.events, firstDay, lastDay);\n\n    return { eventsInPeriod, period };\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { MdbCalendarComponent } from './components/calendar/calendar.component';\nimport { CommonModule } from '@angular/common';\nimport {\n  ButtonsModule,\n  ModalModule,\n  IconsModule,\n  TooltipModule,\n  InputsModule\n} from 'angular-bootstrap-md';\nimport { EventModalComponent } from './components/event-modal/event-modal.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MdbCalendarWeekViewComponent } from './components/calendar-week-view/calendar-week-view.component';\nimport { MdbCalendarMonthViewComponent } from './components/calendar-month-view/calendar-month-view.component';\nimport { MdbCalendarListViewComponent } from './components/calendar-list-view/calendar-list-view.component';\n\n@NgModule({\n  declarations: [\n    MdbCalendarComponent,\n    EventModalComponent,\n    MdbCalendarWeekViewComponent,\n    MdbCalendarMonthViewComponent,\n    MdbCalendarListViewComponent\n  ],\n  imports: [\n    ButtonsModule,\n    InputsModule,\n    IconsModule,\n    ModalModule.forRoot(),\n    TooltipModule.forRoot(),\n    CommonModule,\n    ReactiveFormsModule\n  ],\n  exports: [\n    MdbCalendarComponent,\n    MdbCalendarWeekViewComponent,\n    MdbCalendarMonthViewComponent,\n    MdbCalendarListViewComponent,\n    EventModalComponent\n  ],\n  entryComponents: [EventModalComponent]\n})\nexport class MdbCalendarModule {}\n","/*\n * Public API Surface of calendar-lib\n */\n\nexport * from './lib/calendar.module';\nexport * from './lib/components/calendar/calendar.component';\nexport * from './lib/interfaces/calendar-event.interface';\nexport * from './lib/interfaces/calendar-options.interface';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {MdbCalendarListViewComponent as ɵd} from './lib/components/calendar-list-view/calendar-list-view.component';\nexport {MdbCalendarMonthViewComponent as ɵc} from './lib/components/calendar-month-view/calendar-month-view.component';\nexport {MdbCalendarWeekViewComponent as ɵb} from './lib/components/calendar-week-view/calendar-week-view.component';\nexport {EventModalComponent as ɵa} from './lib/components/event-modal/event-modal.component';"],"names":[],"mappings":"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"}