<div class="row py-2">

    <!--Grid column-->
    <div class="col-lg-12 col-md-12">
      <!--Card-->
      <mdb-card cascade="true" narrower="true">
        <!--Card image-->
        <div
          class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-4 mb-3 d-flex justify-content-between align-items-center">
          <h4 class="h4-responsive">BFS Form</h4>    
           <div>
              <div class="btn-group" role="group" aria-label="Basic example">                                       
                <input type="file" class="float-end" (change)="Upload($event)" placeholder="Upload file" accept=".xlsx">
              </div>      
          </div>               
        </div>
        <!--/Card image-->
  
        <!--Card content-->
        <mdb-card-body cascade="true">
            <div class="row">
                <div class="col-md-4">
                    <label for="" class="form-label">Year</label>
                    <mat-form-field appearance="outline" class="matTableFields">
                    
                  <mat-select (ngModelChange)="setYear($event)" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedYear">
                    <mat-option *ngFor="let item of year" [value]="item">
                    {{ item }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
                </div>
                <div class="col-md-4">
                    <label for="" class="form-label">Quarter</label>
                    <mat-form-field appearance="outline" class="matTableFields">
                    
                        <mat-select (ngModelChange)="setQtr($event)" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedQuarter">
                          <mat-option *ngFor="let item of quarter" [value]="item.quarter">
                          {{ item.quarter }}
                          </mat-option>
                      </mat-select>
                  </mat-form-field>

                </div>
                <div class="col-md-4">
                <button style="margin-top: 27px;float: left !important;background-color: #DC4405 !important;" (click)="getData()" type="button" class="btn btn-dark float-end" >
                    <i class="fe fe-arrow-right me-2"></i>
                    Get Data
                </button>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-lg-12">
                    <div class="table-responsive">
                        <table class="table table-bordered card-table table-vcenter text-center text-nowrap mb-0">
                            <thead class="">
                                <tr>
                                    <th class="col-md-2">Entity Id </th>
                                    <th class="col-md-2">Building Id </th>
                                    <th class="col-md-3">Eniity Name</th>
                                    <th class="col-md-2">Non-SS/D</th>
                                    <th class="col-md-1">PM Complexity</th>
                                    <th class="col-md-1">Facility Complexity</th>
                                    <th class="col-md-1">PO's</th>
                                    <th class="col-md-1">Invoices</th>
                                    <th class="col-md-1"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of tableData; let i = index">
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.EntityID}}</span>
                                        <input *ngIf="item.Flag === true" type="number" [(ngModel)]="item.EntityID" class="form-control form-control-sm" value="{{item.EntityID}}">
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.BuildingID}}</span>
                                        <input *ngIf="item.Flag === true" type="number" [(ngModel)]="item.BuildingID" class="form-control form-control-sm" value="{{item.BuildingID}}">
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.Title}}</span>
                                        <input *ngIf="item.Flag === true" type="text" [(ngModel)]="item.Title" class="form-control form-control-sm" value="{{item.Title}}">
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.Non_x0020_SSD}}</span>
                                        <select *ngIf="item.Flag === true" class="form-control form-select" [(ngModel)]="item.Non_x0020_SSD">
                                            <option *ngFor="let opt of ssdData; let op = index"  value="{{ opt }}">{{ opt }}</option>
                                        </select>
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.PM_x0020_Complexity}}</span>
                                        <input *ngIf="item.Flag === true" type="number" [(ngModel)]="item.PM_x0020_Complexity"  class="form-control form-control-sm" value="{{item.PM_x0020_Complexity}}">
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.Facility_x0020_Complexity}}</span>
                                        <input *ngIf="item.Flag === true" type="number" [(ngModel)]="item.Facility_x0020_Complexity" class="form-control form-control-sm" value="{{item.Facility_x0020_Complexity}}">
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.POs}}</span>
                                        <input *ngIf="item.Flag === true" type="number" [(ngModel)]="item.POs" class="form-control form-control-sm" value="{{item.POs}}">
                                    </td>
                                    <td>
                                        <span *ngIf="item.Flag === false">{{item.Invoices}}</span>
                                        <input *ngIf="item.Flag === true" type="number" [(ngModel)]="item.Invoices" class="form-control form-control-sm" value="{{item.Invoices}}">
                                    </td>
                                    <td>
                                        <i *ngIf="item.Flag === false" class="fa fa-edit text-primary" style="cursor: pointer; font-size: 20px" (click)="edit(i)"></i>
                                        <i *ngIf="item.Flag === true" class="fa fa-save text-primary" style="cursor: pointer; font-size: 20px" (click)="save(i,item)"></i>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
         
        </mdb-card-body>
        <!--/.Card content-->
      </mdb-card>
      <!--/.Card-->
    </div>
    <!--Grid column-->
  </div>

